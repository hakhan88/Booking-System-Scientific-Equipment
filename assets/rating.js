!function(){function t(t,e){this.element=$(t),this.config=$.extend({},this.constructor.DEFAULTS,e),this.render()}t.prototype={constructor:t,render:function(){this.element.addClass("rating"),this.element.html('<div class="rating-score" ></div>'),this.editable=!!this.config.name,this.editable&&(this.hidden=$(strbuf('<input type="hidden" name="{0}" />',this.config.name)).appendTo(this.element),this.element.addClass("editable").on("click mousemove",function(t){var e=Math.ceil(t.offsetX/this.element.width()*5);this.val(e,"click"==t.type)}.bind(this)).on("mouseleave",function(){this.val(this.hidden.val())}.bind(this))),this.val(this.config.value)},val:function(t,e){void 0===e&&(e=this.editable);var i=parseFloat(this.element.css("font-size")),n=parseFloat(this.element.css("letter-spacing"))/i,s=i*t+i*n*Math.floor(t);this.element.find(".rating-score").width(s),e&&this.hidden.val(t)}},t.DEFAULTS={name:null,value:0},ControlManager.register("rating",t)}();